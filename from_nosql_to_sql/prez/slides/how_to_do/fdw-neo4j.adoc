=== Neo4j Foreign Data Wrapper

https://github.com/sim51/neo4j-fwd

image::assets/github.png[]

=== Declare a Neo4j server

[source, sql]
----
CREATE SERVER multicorn_neo4j FOREIGN DATA WRAPPER multicorn
  OPTIONS (
      wrapper  'neo4jPg.neo4jfdw.Neo4jForeignDataWrapper',
      server   'localhost',
      port     '7474',
      user     'neo4j',
      password 'admin'
  );
----

=== Declare a table

[source, sql]
----
CREATE FOREIGN TABLE neo4j_movie (
    movie varchar
  ) SERVER multicorn_neo4j OPTIONS (
    cypher 'MATCH (n:Movie) RETURN n.title as movie'
  );
----

IMPORTANT: cypher query must return a collection, annd you have to give an alias on each return variable

=== Make SQL !

[source, sql]
----
SELECT * FROM neo4j_movie;
SELECT count(*) FROM neo4j_movie;
SELECT count(*) FROM neo4j_movie WHERE movie LIKE '%Matrix%';
----

=== The best of two worlds

You can also make some JOIN with other table !

image::assets/neo4j-fdw.png[]
